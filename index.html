<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Home Automation</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>
    <!-- Your existing HTML structure remains the same -->
    <div class="header">
        <button class="edit-btn" id="editBtn">‚úé Edit</button>
        <button class="header-control save-btn" id="saveBtn">üíæ Save</button>
        <button id="clearAllBtn" class="header-control clear-all-btn"
            title="Clear all buttons, entities, and local storage">üóëÔ∏è Clear</button>
        <div class="edit-controls" id="editControls">
            <div class="range-control">
                <label for="buttonSize">Size:</label>
                <input type="range" id="buttonSize" min="0.5" max="2" step="0.1" value="1">
                <span class="range-value" id="sizeValue">100%</span>
            </div>

            <div class="range-control">
                <label for="buttonOpacity">Opacity:</label>
                <input type="range" id="buttonOpacity" min="0.5" max="1" step="0.1" value="0.8">
                <span class="range-value" id="opacityValue">80%</span>
            </div>

            <div class="range-control">
                <label for="modalOpacity">Modal:</label>
                <input type="range" id="modalOpacity" min="0.5" max="1" step="0.1" value="0.6">
                <span class="range-value" id="modalValue">60%</span>
            </div>

            <button class="header-control small-btn" id="imageBtn" title="Change Image">
                <i class="fas fa-image"></i>
            </button>
            <button class="header-control small-btn" id="addBtn" title="Add Button">
                <i class="fas fa-plus"></i>
            </button>
        </div>
    </div>

    <div class="content" id="container">
        <div class="viewer-center">
            <div class="pan-layer" id="panLayer">
                <img id="viewImage" src="image.png" alt="floor plan">
            </div>
        </div>
    </div>

    <div class="footer">
        Ready
        <button class="footer-control load-btn" id="loadBtn">üìÇ</button>
    </div>

    <!-- Hidden file inputs -->
    <input type="file" id="imageFileInput" accept="image/*" style="display: none;">
    <input type="file" id="loadFileInput" accept=".json" style="display: none;">

    <!-- Button Picker Modal -->
    <div class="modal-overlay" id="buttonPickerModal">
        <div class="modal">
            <div class="modal-header">
                <h3>Add Button</h3>
                <button class="modal-close" id="closePickerBtn">&times;</button>
            </div>
            <div class="modal-body">
                <div class="button-type-list">
                    <div class="button-type-item" data-type="toggle" data-icon="fa-lightbulb">
                        <i class="fas fa-lightbulb"></i>
                        <span>Toggle Light</span>
                        <small>On/Off switch for lights</small>
                    </div>
                    <div class="button-type-item" data-type="scene" data-icon="fa-palette">
                        <i class="fas fa-palette"></i>
                        <span>Scene</span>
                        <small>Activate a scene</small>
                    </div>
                    <div class="button-type-item" data-type="dimmer" data-icon="fa-sliders-h">
                        <i class="fas fa-sliders-h"></i>
                        <span>Dimmer</span>
                        <small>Brightness control</small>
                    </div>
                    <div class="button-type-item" data-type="cct" data-icon="fa-lightbulb">
                        <i class="fas fa-lightbulb"></i>
                        <span>CCT Light</span>
                        <small>Color temperature control</small>
                    </div>
                    <div class="button-type-item" data-type="rgb" data-icon="fa-lightbulb">
                        <i class="fas fa-lightbulb"></i>
                        <span>RGB Light</span>
                        <small>Color and brightness control</small>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Button Edit Modal -->
    <div class="modal-overlay" id="buttonEditModal">
        <div class="modal">
            <div class="modal-header">
                <h3>Edit Button</h3>
                <button class="modal-close" id="closeEditBtn">&times;</button>
            </div>
            <div class="modal-body">
                <form id="buttonEditForm">
                    <div class="form-group">
                        <label for="editEntityId">Entity ID:</label>
                        <input type="text" id="editEntityId" required>
                    </div>
                    <div class="form-group">
                        <label for="editName">Name:</label>
                        <input type="text" id="editName">
                    </div>
                    <div class="form-group">
                        <label for="editIcon">Icon:</label>
                        <select id="editIcon">
                            <option value="light-bulb-1.svg">Light Bulb 1</option>
                            <option value="light-bulb-2.svg">Light Bulb 2</option>
                            <option value="ceiling-light.svg">Ceiling Light</option>
                            <option value="table-light-1.svg">Table Light 1</option>
                            <option value="table-light-2.svg">Table Light 2</option>
                            <option value="chandelier-1.svg">Chandelier 1</option>
                            <option value="chandelier-2.svg">Chandelier 2</option>
                            <option value="chandelier-3.svg">Chandelier 3</option>
                            <option value="dimmer.svg">Dimmer</option>
                            <option value="dimmer-1.svg">Dimmer 1</option>
                            <option value="dimmer-3.svg">Dimmer 3</option>
                            <option value="fan.svg">Fan</option>
                            <option value="ac-1.svg">AC 1</option>
                            <option value="ac-2.svg">AC 2</option>
                            <option value="ac-3.svg">AC 3</option>
                            <option value="climate.svg">Climate</option>
                            <option value="door-opened.svg">Door Open</option>
                            <option value="door-closed.svg">Door Closed</option>
                            <option value="lock.svg">Lock</option>
                            <option value="lock-open.svg">Lock Open</option>
                            <option value="alarm.svg">Alarm</option>
                            <option value="person-fall-1.svg">Person Fall 1</option>
                            <option value="person-fall-2.svg">Person Fall 2</option>
                            <option value="walk-1.svg">Walk Sensor</option>
                        </select>
                    </div>
                    <!-- Brightness group removed as requested -->
                    <div class="form-actions">
                        <button type="button" class="btn-delete" id="deleteBtn">Delete</button>
                        <button type="submit" class="btn-update">Update</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Scripts -->
<!-- Scripts -->
<script src="svg-icons.js"></script>
<script src="toggle-button.js"></script>
<script src="button.js"></script>
<script src="dimmer.js"></script>
<script src="cct.js"></script>
<script src="rgb.js"></script>
<script src="main.js"></script>
</body>

</html>